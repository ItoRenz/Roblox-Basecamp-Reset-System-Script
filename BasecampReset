-- Script ini harus diletakkan di StarterGui (LocalScript)
-- Pastikan ada Part bernama "Basecamp" atau "SpawnLocation" di workspace

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local mouse = player:GetMouse()
local screenSize = player:WaitForChild("PlayerGui").AbsoluteSize

-- Detect apakah player menggunakan mobile atau PC
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

-- ===== BASECAMP RESET FUNCTION =====
local function resetToBasecamp()
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    -- Cari basecamp (sesuaikan nama sesuai game kamu)
    local basecamp = workspace:FindFirstChild("Basecamp") or workspace:FindFirstChild("SpawnLocation") or workspace:FindFirstChild("Base")
    
    if basecamp and basecamp:FindFirstChild("PrimaryPart") or basecamp:IsA("Part") then
        local spawnPos = basecamp.Position + Vector3.new(0, 3, 0) -- 3 stud di atas basecamp
        character:MoveTo(spawnPos)
    else
        -- Jika tidak ada basecamp, teleport ke 0,0,0
        character:MoveTo(Vector3.new(0, 50, 0))
    end
end

-- ===== CREATE GUI =====
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BasecampResetGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Tentukan ukuran button berdasarkan device
local buttonSize = isMobile and UDim2.new(0, 50, 0, 50) or UDim2.new(0, 60, 0, 60)
local buttonPosition = UDim2.new(1, -75, 0, 15)

-- Main Button (Toggle Style)
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ResetButton"
toggleButton.Size = buttonSize
toggleButton.Position = buttonPosition
toggleButton.BackgroundColor3 = Color3.fromRGB(59, 89, 152) -- Biru elegan
toggleButton.BackgroundTransparency = 0.1
toggleButton.BorderSizePixel = 0
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = isMobile and 22 or 26
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Text = "⌂"  -- Home icon
toggleButton.Parent = screenGui

-- Corner radius (modern look)
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = toggleButton

-- Stroke untuk border yang lebih menarik
local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(100, 150, 220)
stroke.Thickness = 2
stroke.Parent = toggleButton

-- Hover effect
local isHovering = false

toggleButton.MouseEnter:Connect(function()
    isHovering = true
    game:GetService("TweenService"):Create(
        toggleButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(79, 109, 172)}
    ):Play()
    stroke.Color = Color3.fromRGB(150, 200, 255)
end)

toggleButton.MouseLeave:Connect(function()
    isHovering = false
    game:GetService("TweenService"):Create(
        toggleButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(59, 89, 152)}
    ):Play()
    stroke.Color = Color3.fromRGB(100, 150, 220)
end)

-- Click animation dan function
toggleButton.MouseButton1Click:Connect(function()
    -- Scale down effect
    local tweenService = game:GetService("TweenService")
    tweenService:Create(toggleButton, TweenInfo.new(0.1), {Size = buttonSize * 0.9}):Play()
    
    -- Reset to basecamp
    resetToBasecamp()
    
    -- Scale up effect
    wait(0.1)
    tweenService:Create(toggleButton, TweenInfo.new(0.1), {Size = buttonSize}):Play()
end)

-- Touch support untuk mobile
toggleButton.TouchTap:Connect(function()
    resetToBasecamp()
end)

-- ===== KEYBOARD SHORTCUT (Optional) =====
local function onKeyPress(input, gameProcessed)
    if gameProcessed then return end
    
    -- R untuk reset (gampang diingat)
    if input.KeyCode == Enum.KeyCode.R then
        resetToBasecamp()
    end
end

UserInputService.InputBegan:Connect(onKeyPress)

-- ===== NOTIFICATION FUNCTION =====
local function showNotification(text, duration)
    local label = Instance.new("TextLabel")
    label.Name = "ResetNotification"
    label.Size = UDim2.new(0, 250, 0, 50)
    label.Position = UDim2.new(1, -270, 0, 85)
    label.BackgroundColor3 = Color3.fromRGB(59, 89, 152)
    label.BackgroundTransparency = 0.2
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.TextSize = 14
    label.Font = Enum.Font.Gotham
    label.Text = text
    label.Parent = screenGui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = label
    
    wait(duration or 3)
    label:Destroy()
end

-- Tampilkan notif saat spawn
showNotification("Tekan R atau klik ⌂ untuk kembali ke basecamp", 4)

print("✓ Basecamp Reset Script Loaded!")
